---
title: 着色器可见描述符堆
description: 着色器可见描述符堆，是描述符堆可以引用的描述符表通过着色器。
ms.assetid: 37691fd1-212d-4786-ac9c-861c1a6a4918
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9e4d7bf958f56c6d27061359864a86ced6b0a64d
ms.sourcegitcommit: 1fbe7572f20938331e9c9bd6cccd098fa1c6054d
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/27/2019
ms.locfileid: "66224350"
---
# <a name="shader-visible-descriptor-heaps"></a>着色器可见描述符堆

着色器可见描述符堆，是描述符堆可以引用的描述符表通过着色器。

-   [概述](#overview)
-   [示例](#an-example)
-   [相关的主题](#related-topics)

## <a name="overview"></a>概述

描述符堆可以引用的着色器通过描述符表有几个风格：一个堆类型，D3D12\_SRV\_UAV\_CBV\_描述符\_堆、 可容纳着色器资源视图，无序访问视图和常量缓冲区视图，所有混杂在一起。 在堆中的任何给定的位置可以是任何一种列出类型的描述符。 另一种堆类型，D3D12\_描述符\_堆\_类型\_采样器，仅存储取样器，专用于反映将这一事实，对于大多数硬件，取样器分开管理 SRVs，Uav，CBVs。

描述符堆的这些类型可能会收到将其着色器可见或不在创建堆时 （后者 – 非着色器可见的可用于暂存在 CPU 上的描述符）。 当请求为着色器可见，每个以上的堆类型可能具有任何单个描述符堆分配的硬件大小限制。

应用程序可以创建任意数量的描述符堆和非着色器可见描述符堆是不受约束的大小。 如果应用程序创建着色器可见描述符堆小于硬件大小限制，可以选择该驱动程序，以便多个 API 描述符堆适合一个二次分配从更大的基础描述符堆描述符堆硬件描述符堆。 可能发生此情况的原因是，对于某些硬件，硬件描述符堆在执行过程之间切换需要 GPU 等待空闲 (若要确保 GPU 引用以前完成描述符堆)。 如果所有描述符堆的应用程序创建融入适用硬件堆的最大容量，则切换 API 描述符堆在呈现过程时，会发生任何此类的等待。 应用程序必须允许为一种可能性，但是，切换当前描述符堆可能会产生等待空闲。

若要避免不受此影响可能等待空闲描述符堆交换机上，应用程序可以充分利用中断，在将作为对描述符堆开关执行等待以来发生了空闲的时间出于其他原因导致到空闲 GPU 呈现是否仍要。

机制和语义用于标识描述符堆期间的着色器添加到命令列表/捆绑包记录的 API 参考中所述。

## <a name="an-example"></a>示例

下图显示了两个描述符堆引用被存储在较大的默认堆的两个槽中的这两个单独的 2D 纹理。 是可见的着色器描述符堆可以访问由图形管道 （包括着色器），因此可供该管道 2D 纹理。

![可见以及非可见描述符堆](images/descriptor-heaps.png)

> [!Note]  
> 没有通常限制在 GPU 硬件的 GPU 的本地内存量的可写的描述符 （称为写组合的内存） 的 CPU 堆。 通常此限制为大约 96 MB 的所有进程。 具有 32 字节描述符的一百万个成员描述符堆会用完 32 MB，例如。 该驱动程序将回退系统内存，必要时，尽管它最好还是不创建大量的大型描述符堆。

 

## <a name="related-topics"></a>相关主题

<dl> <dt>

[描述符堆](descriptor-heaps.md)
</dt> </dl>

 

 




